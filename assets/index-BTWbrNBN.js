import{b as v,X as I,j as e,h as w,K as S,u as C}from"./index-Di-6ARBW.js";import{u as y,a as E,F as R,b as g,C as u,o as F,s as x,c as k,A}from"./useTimeOutMessage-DQNiZzXR.js";import{I as B}from"./FormContainer-mDHVfeNN.js";import{B as D}from"./Button-CbN5059T.js";import{P as M}from"./PasswordInput-CMaJBe5l.js";import{A as p}from"./ActionLink-ClhJg2La.js";import"./StatusIcon-dn-h05rN.js";const P=F({email:x().min(1,{message:"Ingresar su correo electrónico"}),password:x().min(1,{message:"Ingresar su contraseña"})}),G=i=>{const[t,r]=v.useState(!1),{disableSubmit:o=!1,className:l,setMessage:c,passwordHint:n}=i,{handleSubmit:h,formState:{errors:s},control:m}=y({defaultValues:{email:"crltorres@cenepred.gob.pe",password:"abcdef"},resolver:E(P)}),{signIn:j}=I(),b=async a=>{const{email:f,password:N}=a;if(!o){r(!0);const d=await j({email:f,password:N});d?.status==="failed"&&c?.(d.message)}r(!1)};return e.jsx("div",{className:l,children:e.jsxs(R,{onSubmit:h(b),children:[e.jsx(g,{label:"Correo electrónico",invalid:!!s.email,errorMessage:s.email?.message,children:e.jsx(u,{name:"email",control:m,render:({field:a})=>e.jsx(B,{type:"email",placeholder:"correo@gmail.com",autoComplete:"off",...a})})}),e.jsx(g,{label:"Contraseña",invalid:!!s.password,errorMessage:s.password?.message,className:w(n?"mb-0":"",s.password?.message?"mb-8":""),children:e.jsx(u,{name:"password",control:m,rules:{required:!0},render:({field:a})=>e.jsx(M,{type:"text",placeholder:"***********",autoComplete:"off",...a})})}),n,e.jsx(D,{block:!0,loading:t,variant:"solid",type:"submit",children:t?"Iniciando...":"Iniciar sesión"})]})})},H=({signUpUrl:i="/sign-up",forgetPasswordUrl:t="/forgot-password",disableSubmit:r})=>{const[o,l]=k(),c=S();return C(n=>n.mode),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("img",{src:"/img/logo/logo-cenepred.jpg",alt:"CENEPRED",onClick:()=>c("/"),className:"h-24 md:h-24 w-auto object-contain cursor-pointer"}),e.jsx("img",{src:"/img/logo/logo_sigrid.png",alt:"SIGRID",className:"h-18",onClick:()=>window.location.href="https://sigrid.cenepred.gob.pe/sigridv3/"})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"mb-2",children:"Sistema CENEPRED"}),e.jsx("p",{className:"font-medium text-gray-600",children:"Ingrese sus credenciales para acceder al sistema"})]}),o&&e.jsx(A,{showIcon:!0,className:"mb-4",type:"danger",children:e.jsx("span",{className:"break-all",children:o})}),e.jsx(G,{disableSubmit:r,setMessage:l,passwordHint:e.jsx("div",{className:"mb-7 mt-2",children:e.jsx(p,{to:t,className:"font-semibold heading-text mt-2 underline",themeColor:!1,children:"¿Olvidó su contraseña?"})})}),e.jsx("div",{className:"mt-2 text-center",children:e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.jsx("strong",{children:"Centro Nacional de Estimación, Prevención y Reducción del Riesgo de Desastres"})}),e.jsx("p",{className:"text-xs text-gray-500",children:"Sistema de Gestión Institucional para la Reducción del Riesgo de Desastres"})]})}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:["¿No tiene una cuenta?"," "]}),e.jsx(p,{to:i,className:"text-[#0097a7] font-bold hover:text-[#00838f]",themeColor:!1,children:"Registrate"})]})]})},_=()=>e.jsx(H,{});export{H as SignInBase,_ as default};
