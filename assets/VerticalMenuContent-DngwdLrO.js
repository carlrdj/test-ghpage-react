import{j as t,e as C,ab as L,b as f}from"./index-BTIbGg6b.js";import{M as m}from"./toast-DLJmkGzs.js";import{bb as I,D as b}from"./Drawer-y_O075Ou.js";import{n as g,A as h,b as N,a as V,N as w,e as D,f as F}from"./MobileNav-DDbALuMK.js";import"./Button-B29EPoIq.js";import"./FormContainer-CD-ONq0O.js";import"./uniqueId-Btf1eO11.js";const M=({icon:e})=>typeof e!="string"&&!e?t.jsx(t.Fragment,{}):t.jsx(t.Fragment,{children:g[e]&&t.jsx("span",{className:"text-2xl",children:g[e]})}),{MenuItem:S}=m,P=({nav:e,children:s,direction:n,renderAsIcon:c,onLinkClick:a,userAuthority:l,t:i,currentKey:o})=>t.jsx(h,{userAuthority:l,authority:e.authority,children:c?t.jsx(I,{title:i(e.translateKey,e.title),placement:n==="rtl"?"left":"right",children:s}):t.jsx(b.Item,{active:o===e.key,children:e.path?t.jsx(C,{className:"h-full w-full flex items-center outline-hidden",to:e.path,target:e.isExternalLink?"_blank":"",onClick:()=>a?.({key:e.key,title:e.title,path:e.path}),children:t.jsx("span",{children:i(e.translateKey,e.title)})}):t.jsx("span",{children:i(e.translateKey,e.title)})})}),E=e=>{const{nav:s,onLinkClick:n,showTitle:c,indent:a,showIcon:l=!0,userAuthority:i,t:o}=e;return t.jsx(h,{userAuthority:i,authority:s.authority,children:t.jsx(S,{eventKey:s.key,dotIndent:a,children:t.jsxs(C,{to:s.path,className:"flex items-center gap-2 h-full w-full",target:s.isExternalLink?"_blank":"",onClick:()=>n?.({key:s.key,title:s.title,path:s.path}),children:[l&&t.jsx(M,{icon:s.icon}),c&&(s.tooltip?t.jsx(I,{title:s.tooltip,children:t.jsx("span",{children:o(s.translateKey,s.title)})}):t.jsx("span",{children:o(s.translateKey,s.title)}))]})},s.key)})},Y=({nav:e,onLinkClick:s,sideCollapsed:n,direction:c,indent:a,renderAsIcon:l,userAuthority:i,showIcon:o,showTitle:y,t:d,currentKey:j,parentKeys:u})=>t.jsx(t.Fragment,{children:n?t.jsx(P,{currentKey:j,parentKeys:u,nav:e,direction:c,renderAsIcon:l,userAuthority:i,t:d,onLinkClick:s,children:t.jsx(E,{nav:e,sideCollapsed:n,userAuthority:i,showIcon:o,showTitle:y,t:d,onLinkClick:s})}):t.jsx(E,{nav:e,sideCollapsed:n,userAuthority:i,showIcon:o,showTitle:y,indent:a,t:d,onLinkClick:s})}),{MenuItem:$,MenuCollapse:R}=m,G=({nav:e,indent:s,dotIndent:n,children:c,userAuthority:a,t:l})=>t.jsx(h,{userAuthority:a,authority:e.authority,children:t.jsx(R,{label:t.jsxs(t.Fragment,{children:[t.jsx(M,{icon:e.icon}),e.tooltip?t.jsx(I,{title:e.tooltip,children:t.jsx("span",{children:l(e.translateKey,e.title)})}):t.jsx("span",{children:l(e.translateKey,e.title)})]}),eventKey:e.key,expanded:!1,dotIndent:n,indent:s,children:c},e.key)}),O=({nav:e,direction:s,children:n,t:c,renderAsIcon:a,userAuthority:l,parentKeys:i})=>{const o=t.jsx($,{isActive:i?.includes(e.key),eventKey:e.key,className:"mb-2",children:t.jsx(M,{icon:e.icon})},e.key),y=t.jsx("div",{children:c(e.translateKey,e.title)},e.key);return t.jsx(h,{userAuthority:l,authority:e.authority,children:t.jsx(b,{trigger:"hover",renderTitle:a?o:y,placement:s==="rtl"?"left-start":"right-start",children:n})})},X=({sideCollapsed:e,...s})=>e?t.jsx(O,{...s}):t.jsx(G,{...s}),{MenuGroup:q}=m,K=2,Z=e=>{const{collapsed:s,routeKey:n,navigationTree:c=[],onMenuItemClick:a,direction:l=L.direction,translationSetup:i,userAuthority:o}=e,{t:y}=N(!i),[d,j]=f.useState([]),{activedRoute:u}=V(c,n);f.useEffect(()=>{u?.parentKey&&j([u?.parentKey])},[u?.parentKey]);const A=()=>{a?.()},k=(T,p=0,_)=>{const x=p+1;return t.jsx(t.Fragment,{children:T.map(r=>t.jsxs(f.Fragment,{children:[r.type===w&&t.jsx(Y,{currentKey:u?.key,parentKeys:d,nav:r,sideCollapsed:s,direction:l,indent:_,renderAsIcon:p<=0,showIcon:p<=0,userAuthority:o,showTitle:s?p>=1:p<=K,t:y,onLinkClick:A},r.key),r.type===D&&t.jsx(X,{currentKey:u?.key,parentKeys:d,nav:r,sideCollapsed:s,direction:l,indent:x>=K,dotIndent:x>=K,renderAsIcon:x<=1,userAuthority:o,t:y,onLinkClick:a,children:r.subMenu&&r.subMenu.length>0&&k(r.subMenu,x,!0)},r.key),r.type===F&&t.jsx(h,{userAuthority:o,authority:r.authority,children:t.jsx(q,{label:y(r.translateKey)||r.title,children:r.subMenu&&r.subMenu.length>0&&k(r.subMenu,p,!1)},r.key)})]},r.key))})};return t.jsx(m,{className:"px-4 pb-4",sideCollapsed:s,defaultActiveKeys:u?.key?[u.key]:[],defaultExpandedKeys:d,defaultCollapseActiveKeys:u?.parentKey?[u.parentKey]:[],children:k(c,0)})};export{Z as V};
