import{j as e,a3 as N}from"./index-BTIbGg6b.js";import{b9 as u,ba as v}from"./Drawer-y_O075Ou.js";import"./Button-B29EPoIq.js";import{C as y}from"./Card-Qv0gR66p.js";import{T as h}from"./toast-DLJmkGzs.js";import"./FormContainer-CD-ONq0O.js";import"./uniqueId-Btf1eO11.js";import{u as w,A as _,I as C,S as r}from"./ImageLoad-DBTYsuhu.js";import{F as A,a as D}from"./index-Bufa6ae2.js";import{a as L}from"./index-Ck7xURwz.js";const{TabNav:T,TabList:O,TabContent:P}=h,m={"MUY ALTO":"text-red-500 bg-red-500",ALTO:"text-orange-400 bg-orange-400",MEDIO:"text-yellow-500 bg-yellow-500",BAJO:"text-green-400 bg.green-400","MUY BAJO":"text-green-700 bg-green-700","":"text-gray-500 bg-gray-500"},S=t=>{if(!t)return"";let l=t.replace(/[{}]/g,"").split(",").filter(i=>i&&i!=="NULL");return l.length===0?"":l.length===1?l[0]:l.length===2?l.join(" y "):l.slice(0,-1).join(", ")+" y "+l[l.length-1]},H=()=>{const{escenario:t,data:n,isLoading:l}=w("1"),i=new Date().getFullYear(),c=Object.keys(n),j={inundaciones:"Inundación",movimiento_masa:"Movimiento en masa"},p=s=>s.charAt(0).toUpperCase()+s.slice(1).replace(/_/g," "),o=()=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[e.jsx("div",{className:"bg-yellow-100 text-yellow-600 p-4 rounded-full mb-4",children:"⚠️"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"No hay información disponible"}),e.jsx("p",{className:"text-gray-500 mt-2 max-w-sm",children:"Aún no se han registrado datos para este escenario."})]}),g=()=>e.jsxs(y,{children:[e.jsx(r,{height:28,width:"50%",className:"mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(r,{height:60,className:"rounded-xl"}),e.jsx(r,{height:60,className:"rounded-xl"}),e.jsx(r,{height:60,className:"rounded-xl"})]})]});return!l&&c.length==0?e.jsx(o,{}):e.jsx(N,{children:e.jsx(_,{children:l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:3}).map((s,d)=>e.jsx(g,{},d))}):e.jsxs(h,{defaultValue:"inundaciones",children:[e.jsx(O,{children:c.map(s=>e.jsx(T,{value:s,children:p(s)},s))}),c.map((s,d)=>e.jsx(P,{value:s,children:e.jsx("div",{className:"p-6",children:n[s]&&n[s].length>0?e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("div",{className:"text-2xl p-2 font-medium text-white bg-teal-600 rounded-lg",children:e.jsxs("p",{className:"mr-3",children:["Aviso N° ",t.aviso]})}),e.jsx("h2",{className:"text-2xl p-2 font-medium text-white bg-teal-600 rounded-full",children:e.jsx("p",{className:"mr-5 ml-5",children:"CORTO PLAZO"})})]}),e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsx("h1",{className:"text-5xl font-semibold text-teal-600 ml-8",children:"Escenario de Riesgo"}),e.jsx("div",{className:"text-2xl p-2 font-semibold text-white bg-green-600 bg-opacity-70 rounded-xl mr-10",children:e.jsx("p",{className:"ml-3 mr-3",children:t.nombre})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"flex flex-col gap-3 justify-center items-center mb-3",children:[e.jsx("div",{className:"bg-green-600 bg-opacity-70 text-white text-2xl font-medium rounded-lg",children:e.jsxs("p",{className:"mr-15 ml-15",children:["Pronóstico de Lluvia ",i]})}),e.jsx("div",{className:"w-0 h-0 border-l-38 border-r-38 border-t-18 border-l-transparent border-r-transparent border-t-green-600 bg-opacity-70"}),e.jsxs("div",{className:"text-teal-600",children:[e.jsx("p",{className:"text-3xl font-semibold",children:j[s]}),e.jsxs("p",{className:"text-lg ml-4",children:["del ",new Date(t.fecha_inicio).getDate()," al ",new Date(t.fecha_fin).getDate()," de ",new Date(t.fecha_fin).toLocaleDateString("es-ES",{month:"long"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:n[s].slice(0,2).map((a,f)=>e.jsxs("div",{className:"grid grid-cols-2 border rounded-xl border-teal-600 shadow-md bg-white",children:[e.jsxs("div",{className:"p-2 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(u,{className:"text-cyan-600",size:50}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1 font-semibold text-center text-teal-600",children:[e.jsx("p",{className:"text-xl font-bold",children:s=="inundaciones"?a.total_centro_poblado:a.total_distritos}),e.jsx("p",{className:"text-md",children:s=="inundaciones"?"Centros Poblados":"Distritos"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{className:"text-cyan-600",size:50}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1 font-semibold text-center text-teal-600",children:[e.jsx("p",{className:"text-xl font-bold",children:a.total_poblacion}),e.jsx("p",{className:"text-md",children:"Población"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{className:"text-cyan-600",size:50}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1 font-semibold text-center text-teal-600",children:[e.jsx("p",{className:"text-xl font-bold",children:a.total_vivienda}),e.jsx("p",{className:"text-md",children:"Viviendas"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"text-cyan-600",size:50}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1 font-semibold text-center text-teal-600",children:[e.jsx("p",{className:"text-xl font-bold",children:a.total_inst_educativa}),e.jsx("p",{className:"text-md",children:"Inst. Educativas"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"text-cyan-600",size:50}),e.jsxs("div",{className:"flex-1 flex flex-col gap-1 font-semibold text-center text-teal-600",children:[e.jsx("p",{className:"text-xl font-bold",children:a.total_est_salud}),e.jsx("p",{className:"text-md",children:"Est. de Salud"})]})]})]}),e.jsxs("div",{className:"border-l border-teal-600 p-2 flex flex-col justify-between",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:`${m[a.nivel.toUpperCase()]} text-white text-center font-semibold py-1 rounded`,children:a.nivel}),e.jsxs("p",{className:"text-sm text-teal-600 mt-2",children:["Departamentos en nivel:"," ",e.jsx("span",{className:`${m[a.nivel.toUpperCase()]} bg-white font-semibold`,children:a.departamentos&&S(a.departamentos)})]})]}),e.jsxs("div",{className:"mt-4 text-sm text-teal-600 font-semibold",children:["Departamentos con mayor población expuesta:",a.departamentos_poblacion&&a.departamentos_poblacion?.map((x,b)=>e.jsxs("p",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold",children:x.departamento})," ",x.total_poblacion]},b))]})]})]},f))})]}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx(C,{path:t.mapas[d].ruta})})]})]}):e.jsx(o,{})})},s))]})})})};export{H as default};
