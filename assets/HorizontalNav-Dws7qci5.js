import{u as ne,j as e,e as _,f as O,z as ae,h as p,b as u,m as oe,n as ie}from"./index-zJlaE_HK.js";import{L as le,A as g,n as j,N as M,e as Y,b as ce,a as de,p as ue}from"./MobileNav-7ugPxOUe.js";import{u as xe,a as he,b as pe,c as me,d as ge,e as ye,f as je,s as fe,g as ke,h as be,i as we,j as Ne,k as Me,l as Ce,m as Ee,F as Ie,n as Le,o as Fe,p as Te,q as Ke,r as Ae,t as Pe,v as Re,w as ze,T as k,A as v,D as P,x as He}from"./Drawer-B_J86z6-.js";const qe=({mode:r})=>{const o=ne(a=>a.mode);return e.jsx(_,{to:O.unAuthenticatedEntryPath,children:e.jsx(le,{imgClass:"max-h-10",mode:r||o,className:"hidden lg:block"})})},w=({path:r,children:o,isExternalLink:a,className:n,onClick:l})=>e.jsx(_,{className:ae("w-full flex items-center outline-0",n),to:r,target:a?"_blank":"",onClick:l,children:o}),R=r=>{const{className:o,active:a,asElement:n="button",...l}=r,c={className:p("font-semibold inline-flex h-9 w-max items-center justify-center rounded-lg bg-background px-4 py-2 dark:text-gray-300 dark:hover:text-gray-100 text-gray-900 hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",o,a&&"bg-gray-100 hover:bg-gray-200 dark:bg-white/10 dark:hover:bg-white/20")};if(n==="a"){const{path:d,isExternalLink:i,...s}=l;return e.jsx(w,{path:d,isExternalLink:i,...c,...s})}return n==="button"?e.jsx("button",{ref:l.ref,...c,...l}):e.jsx(e.Fragment,{})},z=u.createContext({getItemProps:()=>({}),activeIndex:null,setActiveIndex:()=>{},setHasFocusInside:()=>{},isOpen:!1}),Se=r=>{const{menuContent:o,triggerContent:a,dropdownLean:n}=r,[l,c]=u.useState(!1),[d,i]=u.useState(!1),[s,t]=u.useState(null),E=u.useRef([]),I=u.useRef([]),L=u.useContext(z),x=xe(),y=he(),f=pe(),V=me(),h=f!=null,{floatingStyles:q,refs:F,context:m}=ge({nodeId:y,open:l,onOpenChange:c,placement:h?"right-start":n?"bottom-start":"bottom",middleware:[Pe({mainAxis:h?0:4,alignmentAxis:h?-4:0}),Re(),ze()],whileElementsMounted:Ae}),{isMounted:T,styles:$}=ye(m,{common:({side:b})=>({transformOrigin:{top:"bottom",bottom:"top",left:"right",right:"left"}[b]}),initial:{transform:"translateY(-5%)",opacity:0},duration:200,open:{opacity:1,transform:"translateY(0%)"},close:{opacity:0,transform:"translateY(-5%)"}}),B=je(m,{enabled:h,handleClose:fe({blockPointerEvents:!0})}),G=ke(m,{event:"mousedown",toggle:!h,ignoreMouse:h}),J=be(m,{role:"menu"}),Q=we(m,{bubbles:!0}),W=Ne(m,{listRef:E,activeIndex:s,nested:h,onNavigate:t}),X=Me(m,{listRef:I,onMatch:l?t:void 0,activeIndex:s}),{getReferenceProps:Z,getFloatingProps:ee,getItemProps:te}=Ce([B,G,J,Q,W,X]),N=()=>{c(!1)};u.useEffect(()=>{if(!x)return;function b(){N()}function K(A){A.nodeId!==y&&A.parentId===f&&N()}return x.events.on("click",b),x.events.on("menuopen",K),()=>{x.events.off("click",b),x.events.off("menuopen",K)}},[x,y,f]),u.useEffect(()=>{l&&x&&x.events.emit("menuopen",{parentId:f,nodeId:y})},[x,l,y,f]);const se=Ee([F.setReference,V.ref]),re={...Z(L.getItemProps({...r,onFocus(){i(!1),L.setHasFocusInside(!0)}}))};return e.jsx(Ie,{children:e.jsxs(Le,{id:y,children:[a?.({ref:se,props:re,hasFocusInside:d,isOpen:T}),e.jsx(z.Provider,{value:{activeIndex:s,setActiveIndex:t,getItemProps:te,setHasFocusInside:i,isOpen:l},children:e.jsx(Fe,{elementsRef:E,labelsRef:I,children:T&&e.jsx(Te,{children:e.jsx(Ke,{context:m,modal:!1,initialFocus:h?-1:0,returnFocus:!h,children:e.jsx("div",{ref:F.setFloating,style:q,className:"outline-hidden z-40",...ee(),children:o?.({styles:$,handleDropdownClose:N})})})})})})]})})},C={1:{grid:"grid-cols-1",width:"w-[150px]"},2:{grid:"grid-cols-2",width:"w-[350px]"},3:{grid:"grid-cols-3",width:"w-[750px]"},4:{grid:"grid-cols-4",width:"w-[950px]"},5:{grid:"grid-cols-5",width:"w-[1150px]"}},U=({children:r,className:o,active:a,...n})=>e.jsx("div",{className:p("cursor-pointer font-semibold px-3 rounded-lg flex items-center w-full whitespace-nowrap gap-x-2 transition-colors duration-150 hover:text-gray-900 hover:bg-gray-100 dark:hover:text-gray-100 dark:hover:bg-gray-800",a&&"bg-gray-100 dark:bg-gray-800",o),role:"menuitem",...n,children:r}),H=({icon:r})=>typeof r!="string"&&!r?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:j[r]&&e.jsx("span",{className:"text-xl",children:j[r]||e.jsx(k,{})})}),S=({path:r,isExternalLink:o,onClick:a,icon:n,title:l,description:c,active:d})=>e.jsx(w,{path:r,isExternalLink:o,className:"gap-2 block",onClick:a,children:e.jsxs(U,{className:"py-2 px-2 gap-3",active:d,children:[e.jsx("div",{children:e.jsx(v,{className:p("bg-white dark:bg-transparent p-2 border-2 border-gray-200 dark:border-gray-600",d?"text-primary":"text-gray-900 dark:text-gray-100"),size:40,icon:n,shape:"round"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"heading-text font-bold",children:l}),e.jsx("div",{className:"text-xs truncate",children:c})]})]})}),De=r=>{const{navigationTree:o,t:a,onDropdownClose:n,columns:l=1,showColumnTitle:c=!0,routeKey:d,userAuthority:i}=r;return e.jsxs("div",{className:"flex max-w-[1400px] w-full",children:[e.jsx("div",{className:p("grid gap-y-6 gap-x-8 p-6 flex-1",C[l]?.grid),children:o.map(s=>s.subMenu.length>0?e.jsx(g,{userAuthority:i,authority:s.authority,children:e.jsxs("div",{className:"max-w-[250px]",children:[c&&e.jsx("div",{className:"heading-text font-bold mb-2",children:a(s.translateKey,s.title)}),s.subMenu.map(t=>e.jsx(g,{userAuthority:i,authority:t.authority,children:e.jsx("div",{children:e.jsx(S,{path:t.path,isExternalLink:t.isExternalLink,icon:j[t.icon]||e.jsx(k,{}),title:a(t.translateKey,t.title),description:a(t.meta?.description?.translateKey||"",t.meta?.description?.label||""),active:t.key===d,onClick:n})},t.key)},t.key))]})},s.key):null)}),o.some(s=>s.type===M)&&e.jsx("div",{className:p("ltr:border-l rtl:border-r border-gray-200 dark:border-gray-800 min-w-[280px] p-4 flex flex-col"),children:o.map(s=>s.subMenu.length===0&&s.type===M?e.jsx(g,{userAuthority:i,authority:s.authority,children:e.jsx(S,{path:s.path,isExternalLink:s.isExternalLink,icon:j[s.icon]||e.jsx(k,{}),title:a(s.translateKey,s.title),description:a(s.meta?.description?.translateKey||"",s.meta?.description?.label||""),active:s.key===d,onClick:n},s.key)},s.key):null)})]})},D=({navigationTree:r,t:o,onDropdownClose:a,routeKey:n,userAuthority:l})=>{const c=(d,i)=>{const s=i+1;return e.jsx("div",{className:p(i===0&&"p-3"),children:d.map(t=>e.jsx(g,{userAuthority:l,authority:t.authority,children:e.jsxs("ul",{children:[t.type===M&&e.jsx(P.Item,{active:n===t.key,children:e.jsxs(w,{path:t.path,isExternalLink:t.isExternalLink,className:"gap-2 h-full",onClick:a,children:[e.jsx(H,{icon:t.icon}),e.jsx("span",{children:o(t.translateKey,t.title)})]})}),t.type===Y&&e.jsx(P,{renderTitle:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{icon:t.icon}),e.jsx("span",{children:o(t.translateKey,t.title)})]}),children:t.subMenu&&t.subMenu.length>0&&c(t.subMenu,s)})]})},t.key))})};return e.jsx(e.Fragment,{children:c(r,0)})},_e=({navigationTree:r,t:o,onDropdownClose:a,columns:n,routeKey:l,userAuthority:c,routeParentKey:d})=>{const[i,s]=u.useState(r.some(t=>t.key===d)?d:r[0]?.key||"");return e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"p-4",children:r.map(t=>t.subMenu.length>0?e.jsx(g,{userAuthority:c,authority:t.authority,children:e.jsx("div",{className:"min-w-[250px]",children:e.jsx("div",{children:e.jsxs(U,{className:"py-2 px-2 gap-3",active:t.key===i,onClick:()=>s(t.key),children:[e.jsx("div",{children:e.jsx(v,{className:p("bg-white dark:bg-transparent p-2 border-2 border-gray-200 dark:border-gray-600",t.key===l?"text-primary":"text-gray-900 dark:text-gray-100"),size:40,icon:j[t.icon]||e.jsx(k,{}),shape:"round"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"heading-text font-bold",children:o(t.translateKey,t.title)}),e.jsx("div",{className:"text-xs truncate",children:o(t.meta?.description?.translateKey||"",t.meta?.description?.label||"")})]})]})},t.key)})},t.key):null)}),r.some(t=>t.key===i&&t.type===Y)&&e.jsx("div",{className:"ltr:border-l rtl:border-r border-gray-200 dark:border-gray-800 p-6",children:e.jsx("div",{className:p("grid gap-x-8 flex-1",C[n]?.grid,C[n]?.width),children:r.find(t=>t.key===i)?.subMenu.map(t=>e.jsx(g,{userAuthority:c,authority:t.authority,children:e.jsx(w,{path:t.path,isExternalLink:t.isExternalLink,className:"gap-2 group",onClick:()=>a(),children:e.jsxs("div",{className:p("flex items-center gap-2 h-[42px] heading-text group-hover:text-primary",l===t.key&&"text-primary"),children:[e.jsx("span",{className:"text-xl",children:j[t.icon]||e.jsx(k,{})}),e.jsx("span",{children:o(t.translateKey,t.title)})]})})},t.key))})})]})},Oe=r=>{const{style:o,navigationTree:a,layoutMeta:n,...l}=r;return e.jsxs("div",{className:"rounded-2xl bg-white dark:bg-gray-900 ring-0 shadow-[0px_48px_64px_-16px_rgba(0,0,0,0.25)] border border-gray-100 dark:border-gray-800 focus:outline-hidden min-w-[180px]",style:o,children:[n?.layout==="default"&&e.jsx(D,{navigationTree:a,...l}),n?.layout==="columns"&&e.jsx(De,{navigationTree:a,columns:n.columns,showColumnTitle:n.showColumnTitle,...l}),n?.layout==="tabs"&&e.jsx(_e,{navigationTree:a,columns:n.columns,...l}),!n&&e.jsx(D,{navigationTree:a,...l})]})},Ye=r=>{const{routeKey:o,navigationTree:a=[],translationSetup:n,userAuthority:l}=r,{t:c}=ce(!n),{activedRoute:d}=de(a,o);return e.jsx("div",{className:"flex gap-1",children:a.map(i=>e.jsx(g,{userAuthority:l,authority:i.authority,children:i.subMenu.length>0?e.jsx(Se,{dropdownLean:i.meta?.horizontalMenu?.layout==="default",triggerContent:({ref:s,props:t})=>e.jsx(R,{ref:s,...t,asElement:"button",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:c(i.translateKey,i.title)}),e.jsx(He,{})]})}),menuContent:({styles:s,handleDropdownClose:t})=>e.jsx(Oe,{style:s,navigationTree:i.subMenu,t:c,layoutMeta:i?.meta?.horizontalMenu,routeKey:o,routeParentKey:d?.parentKey,userAuthority:l,onDropdownClose:t})}):e.jsx(R,{...r,path:i.path,isExternalLink:i.isExternalLink,active:d?.key===i.key,asElement:"a",children:e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{children:c(i.translateKey,i.title)})})})},i.key))})},$e=({translationSetup:r=O.activeNavTranslation})=>{const o=oe(n=>n.currentRouteKey),a=ie(n=>n.user.rol??"");return e.jsx(Ye,{navigationTree:ue,routeKey:o,userAuthority:[a],translationSetup:r})};export{$e as H,qe as a};
