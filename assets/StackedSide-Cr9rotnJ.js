import{b as k,i as f,j as e,e as g,H as T,f as E,S as R,h as L,k as M,l as I,u as v,m as H,n as w,o as V,p as A,q as O}from"./index-BTIbGg6b.js";import{a as U,N as $,L as F,S as _,A as P,n as K,b as Y,u as C,p as B,H as G,M as W}from"./MobileNav-DDbALuMK.js";import{M as N}from"./toast-DLJmkGzs.js";import{V as q}from"./VerticalMenuContent-DngwdLrO.js";import{H as z,a as J}from"./Button-B29EPoIq.js";import{L as Q,N as X,S as Z}from"./Notification-DEk6jcfQ.js";import{U as ee}from"./UserProfileDropdown-Cn8QFeL8.js";import{S as se}from"./SidePanel-D90M227A.js";import{L as te}from"./LayoutBase-d3wxK7ae.js";import"./Drawer-y_O075Ou.js";import"./uniqueId-Btf1eO11.js";import"./withHeaderItem-Bw6Jv6sl.js";import"./FormContainer-CD-ONq0O.js";const ae=l=>{const{onChange:a,routeKey:t,activeKeys:r,onSetActiveKey:c,direction:d,navigationTree:n,userAuthority:o,mode:u,selectedMenu:m,t:x,...y}=l,{includedRouteTree:i}=U(n,t),S=({key:s,title:h,menu:b,translateKey:D})=>{a({title:h,menu:b,translateKey:D}),c([s])},j=({key:s})=>{a({}),c([s])};k.useEffect(()=>{i.type!==$&&!f(i)&&a({key:i.key,title:i.title,menu:i.subMenu,translateKey:i.translateKey})},[i.key]);const p=r&&r.length>0?r:f(m)?[]:[i.key];return e.jsxs("div",{...y,children:[e.jsx(g,{to:E.unAuthenticatedEntryPath,className:"stacked-mini-nav-header flex items-center justify-center",style:{height:T},children:e.jsx(F,{imgClass:"max-h-10",mode:u,type:"streamline",className:R})}),e.jsx(_,{autoHide:!0,direction:d,children:e.jsx(N,{className:"px-4 pb-4",defaultActiveKeys:p,children:n.map(s=>e.jsx(P,{authority:s.authority,userAuthority:o,children:e.jsx("div",{title:x(s.translateKey,s.title),children:s.subMenu&&s.subMenu.length>0?e.jsx(N.MenuItem,{eventKey:s.key,className:"mb-2",onSelect:()=>S({key:s.key,title:s.title,menu:s.subMenu,translateKey:s.translateKey}),children:e.jsx("div",{className:"text-2xl",children:K[s.icon]})}):e.jsx(g,{to:s.path,className:"flex items-center h-full w-full",onClick:()=>j({key:s.key}),children:e.jsx(N.MenuItem,{eventKey:s.key,className:"mb-2",children:e.jsx("div",{className:"text-2xl",children:K[s.icon]})})})})},s.key))})})]})},ne=l=>{const{className:a,title:t,menu:r,routeKey:c,onCollapse:d,direction:n,translationSetup:o,userAuthority:u,...m}=l,x=()=>{d()};return e.jsxs("div",{className:L("h-full",a),...m,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4 pl-6 pr-4",style:{height:T},children:[e.jsx("h5",{className:"font-bold",children:t}),e.jsxs("button",{type:"button",className:"close-button",onClick:x,children:[n===M&&e.jsx(z,{}),n===I&&e.jsx(J,{})]})]}),e.jsx(_,{autoHide:!0,className:"h-[calc(100%-64px)]",direction:n,children:e.jsx(q,{routeKey:c,navigationTree:r,translationSetup:o,userAuthority:u})})]})},ie={width:V},le=({translationSetup:l=E.activeNavTranslation})=>{const{t:a}=Y(!l),[t,r]=k.useState({}),[c,d]=k.useState([]),n=v(s=>s.mode),o=v(s=>s.direction),u=H(s=>s.currentRouteKey),m=w(s=>s.user.rol??""),{larger:x}=C(),y=(s,h)=>`${s}-${h}`,i=s=>{r(s)},S=()=>{r({}),d([])},j=s=>{d(s)},p=()=>{let s={};const h=`${-A}px`;return o===M&&(s={marginLeft:h}),o===I&&(s={marginRight:h}),s};return e.jsx(e.Fragment,{children:x.md&&e.jsxs("div",{className:"stacked-side-nav",children:[e.jsx(ae,{className:`stacked-side-nav-mini ${y("stacked-side-nav-mini",n)}`,style:ie,routeKey:u,activeKeys:c,mode:n,direction:o,navigationTree:B,userAuthority:[m],selectedMenu:t,t:a,onChange:i,onSetActiveKey:j}),e.jsx("div",{className:`stacked-side-nav-secondary ${y("stacked-side-nav-secondary",n)}`,style:{width:A,...f(t)?p():{}},children:!f(t)&&e.jsx(ne,{title:a(t.translateKey,t.title),menu:t.menu,routeKey:u,direction:o,translationSetup:l,userAuthority:[m],onCollapse:S})})]})})},Ne=({children:l})=>{const{larger:a,smaller:t}=C();return e.jsx(te,{type:O,className:"app-layout-stacked-side flex flex-auto flex-col",children:e.jsxs("div",{className:"flex flex-auto min-w-0",children:[a.lg&&e.jsx(le,{}),e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(G,{className:"shadow-sm dark:shadow-2xl",headerStart:e.jsxs(e.Fragment,{children:[t.lg&&e.jsx(W,{}),e.jsx(Z,{})]}),headerEnd:e.jsxs(e.Fragment,{children:[e.jsx(Q,{}),e.jsx(X,{}),e.jsx(se,{}),e.jsx(ee,{hoverable:!1})]})}),e.jsx("div",{className:"h-full flex flex-auto flex-col",children:l})]})]})})};export{Ne as default};
