import{B as Z,E as Oe,F as ve,g as pe,I as we,b as C,G as le,U as Re,j as e,h as _,e as Ie,J as Le,z as W,K as He,M as Ae}from"./index-BTIbGg6b.js";import{w as ee}from"./withHeaderItem-Bw6Jv6sl.js";import{b as $e,B as Y,c as Pe,d as qe,e as _e,f as De,g as Me,h as ze}from"./Button-B29EPoIq.js";import{P as We,y as Be,A as I,D,B as be,z as oe}from"./Drawer-y_O075Ou.js";import{S as ye,n as Fe,u as Ge}from"./MobileNav-DDbALuMK.js";import{r as Ue}from"./uniqueId-Btf1eO11.js";async function Xe(){return Z.fetchDataWithAxios({url:"/notification/count",method:"get"})}async function Ke(){return Z.fetchDataWithAxios({url:"/notification/list",method:"get"})}async function Ve(d){return Z.fetchDataWithAxios({url:"/search/query",method:"get",params:d})}var F,ce;function Je(){if(ce)return F;ce=1;var d=Oe(),t=function(){return d.Date.now()};return F=t,F}var G,ue;function Qe(){if(ue)return G;ue=1;var d=/\s/;function t(o){for(var r=o.length;r--&&d.test(o.charAt(r)););return r}return G=t,G}var U,de;function Ye(){if(de)return U;de=1;var d=Qe(),t=/^\s+/;function o(r){return r&&r.slice(0,d(r)+1).replace(t,"")}return U=o,U}var X,he;function Ze(){if(he)return X;he=1;var d=Ye(),t=ve(),o=Ue(),r=NaN,n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,x=/^0o[0-7]+$/i,h=parseInt;function p(c){if(typeof c=="number")return c;if(o(c))return r;if(t(c)){var v=typeof c.valueOf=="function"?c.valueOf():c;c=t(v)?v+"":v}if(typeof c!="string")return c===0?c:+c;c=d(c);var f=s.test(c);return f||x.test(c)?h(c.slice(2),f?2:8):n.test(c)?r:+c}return X=p,X}var K,ge;function et(){if(ge)return K;ge=1;var d=ve(),t=Je(),o=Ze(),r="Expected a function",n=Math.max,s=Math.min;function x(h,p,c){var v,f,i,u,l,a,m=0,g=!1,b=!1,N=!0;if(typeof h!="function")throw new TypeError(r);p=o(p)||0,d(c)&&(g=!!c.leading,b="maxWait"in c,i=b?n(o(c.maxWait)||0,p):i,N="trailing"in c?!!c.trailing:N);function j(y){var S=v,E=f;return v=f=void 0,m=y,u=h.apply(E,S),u}function O(y){return m=y,l=setTimeout(k,p),g?j(y):u}function L(y){var S=y-a,E=y-m,$=p-S;return b?s($,i-E):$}function T(y){var S=y-a,E=y-m;return a===void 0||S>=p||S<0||b&&E>=i}function k(){var y=t();if(T(y))return H(y);l=setTimeout(k,L(y))}function H(y){return l=void 0,N&&v?j(y):(v=f=void 0,u)}function M(){l!==void 0&&clearTimeout(l),m=0,v=a=f=l=void 0}function z(){return l===void 0?u:H(t())}function A(){var y=t(),S=T(y);if(v=arguments,f=this,a=y,S){if(l===void 0)return O(a);if(b)return clearTimeout(l),l=setTimeout(k,p),j(a)}return l===void 0&&(l=setTimeout(k,p)),u}return A.cancel=M,A.flush=z,A}return K=x,K}var tt=et();const at=pe(tt);var V={exports:{}},fe;function nt(){return fe||(fe=1,(function(d){d.exports=(function(t){var o={};function r(n){if(o[n])return o[n].exports;var s=o[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}return r.m=t,r.c=o,r.p="",r(0)})([(function(t,o,r){t.exports=r(1)}),(function(t,o,r){Object.defineProperty(o,"__esModule",{value:!0});function n(h){return h&&h.__esModule?h:{default:h}}var s=r(2),x=n(s);o.default=x.default,t.exports=o.default}),(function(t,o,r){Object.defineProperty(o,"__esModule",{value:!0});var n=Object.assign||function(i){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(i[a]=l[a])}return i};o.default=f;function s(i){return i&&i.__esModule?i:{default:i}}function x(i,u){var l={};for(var a in i)u.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(i,a)&&(l[a]=i[a]);return l}var h=r(3),p=r(4),c=r(5),v=s(c);function f(i){var u=i.activeClassName,l=u===void 0?"":u,a=i.activeIndex,m=a===void 0?-1:a,g=i.activeStyle,b=i.autoEscape,N=i.caseSensitive,j=N===void 0?!1:N,O=i.className,L=i.findChunks,T=i.highlightClassName,k=T===void 0?"":T,H=i.highlightStyle,M=H===void 0?{}:H,z=i.highlightTag,A=z===void 0?"mark":z,y=i.sanitize,S=i.searchWords,E=i.textToHighlight,$=i.unhighlightTag,Ne=$===void 0?"span":$,te=i.unhighlightClassName,je=te===void 0?"":te,Ce=i.unhighlightStyle,ke=x(i,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),Se=(0,h.findAll)({autoEscape:b,caseSensitive:j,findChunks:L,sanitize:y,searchWords:S,textToHighlight:E}),ae=A,B=-1,ne="",re=void 0,Te=function(q){var w={};for(var R in q)w[R.toLowerCase()]=q[R];return w},Ee=(0,v.default)(Te);return(0,p.createElement)("span",n({className:O},ke,{children:Se.map(function(P,q){var w=E.substr(P.start,P.end-P.start);if(P.highlight){B++;var R=void 0;typeof k=="object"?j?R=k[w]:(k=Ee(k),R=k[w.toLowerCase()]):R=k;var ie=B===+m;ne=R+" "+(ie?l:""),re=ie===!0&&g!=null?Object.assign({},M,g):M;var se={children:w,className:ne,key:q,style:re};return typeof ae!="string"&&(se.highlightIndex=B),(0,p.createElement)(ae,se)}else return(0,p.createElement)(Ne,{children:w,className:je,key:q,style:Ce})})}))}t.exports=o.default}),(function(t,o){t.exports=(function(r){var n={};function s(x){if(n[x])return n[x].exports;var h=n[x]={exports:{},id:x,loaded:!1};return r[x].call(h.exports,h,h.exports,s),h.loaded=!0,h.exports}return s.m=r,s.c=n,s.p="",s(0)})([(function(r,n,s){r.exports=s(1)}),(function(r,n,s){Object.defineProperty(n,"__esModule",{value:!0});var x=s(2);Object.defineProperty(n,"combineChunks",{enumerable:!0,get:function(){return x.combineChunks}}),Object.defineProperty(n,"fillInChunks",{enumerable:!0,get:function(){return x.fillInChunks}}),Object.defineProperty(n,"findAll",{enumerable:!0,get:function(){return x.findAll}}),Object.defineProperty(n,"findChunks",{enumerable:!0,get:function(){return x.findChunks}})}),(function(r,n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAll=function(f){var i=f.autoEscape,u=f.caseSensitive,l=u===void 0?!1:u,a=f.findChunks,m=a===void 0?x:a,g=f.sanitize,b=f.searchWords,N=f.textToHighlight;return h({chunksToHighlight:s({chunks:m({autoEscape:i,caseSensitive:l,sanitize:g,searchWords:b,textToHighlight:N})}),totalLength:N?N.length:0})};var s=n.combineChunks=function(f){var i=f.chunks;return i=i.sort(function(u,l){return u.start-l.start}).reduce(function(u,l){if(u.length===0)return[l];var a=u.pop();if(l.start<=a.end){var m=Math.max(a.end,l.end);u.push({start:a.start,end:m})}else u.push(a,l);return u},[]),i},x=function(f){var i=f.autoEscape,u=f.caseSensitive,l=f.sanitize,a=l===void 0?p:l,m=f.searchWords,g=f.textToHighlight;return g=a(g),m.filter(function(b){return b}).reduce(function(b,N){N=a(N),i&&(N=c(N));for(var j=new RegExp(N,u?"g":"gi"),O=void 0;O=j.exec(g);){var L=O.index,T=j.lastIndex;T>L&&b.push({start:L,end:T}),O.index==j.lastIndex&&j.lastIndex++}return b},[])};n.findChunks=x;var h=n.fillInChunks=function(f){var i=f.chunksToHighlight,u=f.totalLength,l=[],a=function(b,N,j){N-b>0&&l.push({start:b,end:N,highlight:j})};if(i.length===0)a(0,u,!1);else{var m=0;i.forEach(function(g){a(m,g.start,!1),a(g.start,g.end,!0),m=g.end}),a(m,u,!1)}return l};function p(v){return v}function c(v){return v.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}})])}),(function(t,o){t.exports=we()}),(function(t,o){var r=function(x,h){return x===h};function n(s){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r,h=void 0,p=[],c=void 0,v=!1,f=function(l,a){return x(l,p[a])},i=function(){for(var l=arguments.length,a=Array(l),m=0;m<l;m++)a[m]=arguments[m];return v&&h===this&&a.length===p.length&&a.every(f)||(v=!0,h=this,p=a,c=s.apply(this,a)),c};return i}t.exports=n})])})(V)),V.exports}var rt=nt();const it=pe(rt),J=[{title:"Recommended",data:[{key:"guide.documentation",path:`${le}/documentation/introduction`,title:"Documentation",icon:"documentation",category:"Docs",categoryTitle:"Guide"},{key:"guide.changeLog",path:`${le}/changelog`,title:"Changelog",icon:"changeLog",category:"Docs",categoryTitle:"Guide"},{key:"uiComponent.common.button",path:`${Re}/button`,title:"Button",icon:"uiCommonButton",category:"Common",categoryTitle:"UI Components"}]}],st=d=>{const{icon:t,label:o,url:r="",keyWord:n,onNavigate:s}=d;return e.jsx(Ie,{to:r,onClick:s,children:e.jsxs("div",{className:_("flex items-center justify-between rounded-xl p-3 cursor-pointer user-select","hover:bg-gray-100 dark:hover:bg-gray-700"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:_("rounded-lg border-2 border-gray-200 shadow-xs text-xl group-hover:shadow-sm h-10 w-10 flex items-center justify-center bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"),children:t&&Fe[t]}),e.jsx("div",{className:"text-gray-900 dark:text-gray-300",children:e.jsx(it,{autoEscape:!0,highlightClassName:_("text-primary","underline bg-transparent font-semibold dark:text-white"),searchWords:[n],textToHighlight:o})})]}),e.jsx(Pe,{className:"text-lg"})]})})},lt=({className:d})=>{const[t,o]=C.useState(!1),[r,n]=C.useState(J),[s,x]=C.useState(!1),h=C.useRef(null),p=()=>{x(!1),n(J)},c=()=>{o(!0)},v=()=>{o(!1),p()},f=at(i,200);async function i(a){if(!a){n(J);return}s&&x(!1);const m=await Ve({query:a});m&&(m.length===0&&x(!0),n(m))}const u=a=>{f(a.target.value)};C.useEffect(()=>{if(t){const a=setTimeout(()=>h.current?.focus(),100);return()=>{clearTimeout(a)}}},[t]);const l=()=>{v()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:_(d,"text-2xl"),onClick:c,children:e.jsx(We,{})}),e.jsx(Be,{contentClassName:"!p-0",isOpen:t,closable:!1,onRequestClose:v,children:e.jsxs("div",{children:[e.jsxs("div",{className:"px-4 flex items-center justify-between border-b border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx($e,{className:"text-xl"}),e.jsx("input",{ref:h,className:"ring-0 outline-hidden block w-full p-4 text-base bg-transparent text-gray-900 dark:text-gray-100",placeholder:"Search...",onChange:u})]}),e.jsx(Y,{size:"xs",onClick:v,children:"Esc"})]}),e.jsx("div",{className:"py-6 px-5",children:e.jsxs(ye,{className:" max-h-[350px] overflow-y-auto",children:[r.map(a=>e.jsxs("div",{className:"mb-4",children:[e.jsx("h6",{className:"mb-3",children:a.title}),a.data.map((m,g)=>e.jsx(st,{icon:m.icon,label:m.title,url:m.path,keyWord:h.current?.value||"",onNavigate:l},m.title+g))]},a.title)),r.length===0&&s&&e.jsxs("div",{className:"my-10 text-center text-lg",children:[e.jsx("span",{children:"No results for "}),e.jsxs("span",{className:"heading-text",children:["'",h.current?.value,"'"]})]})]})})]})})]})},Ct=ee(lt),me=[{label:"English",value:"en",flag:"US"},{label:"Chinese",value:"zh",flag:"CN"},{label:"Espanol",value:"es",flag:"ES"},{label:"Arabic",value:"ar",flag:"SA"}],ot=({className:d})=>{const{currentLang:t,setLang:o}=Le(s=>s),r=C.useMemo(()=>me.find(s=>s.value===t)?.flag,[t]),n=e.jsx("div",{className:W(d,"flex items-center"),children:e.jsx(I,{size:24,shape:"circle",src:`/img/countries/${r}.png`})});return e.jsx(D,{renderTitle:n,placement:"bottom-end",children:me.map(s=>e.jsxs(D.Item,{className:"justify-between",eventKey:s.label,onClick:()=>o(s.value),children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{size:18,shape:"circle",src:`/img/countries/${s.flag}.png`}),e.jsx("span",{className:"ltr:ml-2 rtl:mr-2",children:s.label})]}),t===s.value&&e.jsx(qe,{className:"text-emerald-500 text-lg"})]},s.label))})},kt=ee(ot);function ct(d=""){const t=d.match(/\b(\w)/g);return t?t.join(""):d}const xe=["bg-indigo-200 dark:bg-indigo-200","bg-emerald-200 dark:bg-emerald-200","bg-cyan-200 dark:bg-cyan-200","bg-blue-200 dark:bg-blue-200","bg-teal-200 dark:bg-teal-200","bg-fuchsia-200 dark:bg-fuchsia-200","bg-pink-200 dark:bg-pink-200","bg-rose-200 dark:bg-rose-200","bg-red-200 dark:bg-red-200","bg-amber-200 dark:bg-amber-200","bg-violet-200  dark:bg-violet-200","bg-purple-200 dark:bg-purple-200"];function ut(){const d=o=>{let r=0;for(let n=0;n<o.length;n++){const s=o.charCodeAt(n);r+=s}return r};return C.useCallback(o=>{const n=d(o)%xe.length;return xe[n]},[])}const dt="/img/avatars/",ht=({target:d})=>{const t=ut();return e.jsx(I,{shape:"circle",className:`text-gray-900 ${t(d)}`,children:ct(d)})},gt=d=>{const{type:t,target:o,image:r,status:n}=d;switch(t){case 0:return r?e.jsx(I,{shape:"circle",src:`${dt}${r}`}):e.jsx(ht,{target:o});case 1:return e.jsx(I,{shape:"circle",className:"bg-sky-200 text-gray-900",icon:e.jsx(Me,{})});case 2:return e.jsx(I,{shape:"circle",className:n==="succeed"?"bg-emerald-200 text-gray-900":"bg-red-200 text-gray-900",icon:n==="succeed"?e.jsx(_e,{}):e.jsx(De,{})});default:return e.jsx(I,{})}},ft=({className:d,dot:t})=>e.jsx("div",{className:_("text-2xl",d),children:t?e.jsx(be,{badgeStyle:{top:"3px",right:"6px"},children:e.jsx(oe,{})}):e.jsx(oe,{})});function mt(d,t){return d.length===t+1}const Q="h-[280px]",xt=({className:d})=>{const[t,o]=C.useState([]),[r,n]=C.useState(!1),[s,x]=C.useState(!1),[h,p]=C.useState(!1),{larger:c}=Ge(),v=He(),f=async()=>{(await Xe()).count>0?(x(!1),n(!0)):x(!0)};C.useEffect(()=>{f()},[]);const i=async()=>{if(t.length===0){p(!0);const g=await Ke();p(!1),o(g)}},u=()=>{const g=t.map(b=>(b.readed||(b.readed=!0),b));o(g),n(!1)},l=g=>{const b=t.map(j=>(j.id===g&&(j.readed=!0),j));o(b),t.some(j=>!j.readed)||n(!1)},a=C.useRef(null),m=()=>{v("/concepts/account/activity-log"),a.current&&a.current.handleDropdownClose()};return e.jsxs(D,{ref:a,renderTitle:e.jsx(ft,{dot:r,className:d}),menuClass:"min-w-[280px] md:min-w-[340px]",placement:c.md?"bottom-end":"bottom",onOpen:i,children:[e.jsx(D.Item,{variant:"header",children:e.jsxs("div",{className:"dark:border-gray-700 px-2 flex items-center justify-between mb-1",children:[e.jsx("h6",{children:"Notifications"}),e.jsx(Y,{variant:"plain",shape:"circle",size:"sm",icon:e.jsx(ze,{className:"text-xl"}),title:"Mark all as read",onClick:u})]})}),e.jsxs(ye,{className:W("overflow-y-auto",Q),children:[t.length>0&&t.map((g,b)=>e.jsxs("div",{children:[e.jsxs("div",{className:"relative rounded-xl flex px-4 py-3 cursor-pointer hover:bg-gray-100 active:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>l(g.id),children:[e.jsx("div",{children:e.jsx(gt,{...g})}),e.jsxs("div",{className:"mx-3",children:[e.jsxs("div",{children:[g.target&&e.jsxs("span",{className:"font-semibold heading-text",children:[g.target," "]}),e.jsx("span",{children:g.description})]}),e.jsx("span",{className:"text-xs",children:g.date})]}),e.jsx(be,{className:"absolute top-4 ltr:right-4 rtl:left-4 mt-1.5",innerClass:`${g.readed?"bg-gray-300 dark:bg-gray-600":"bg-primary"} `})]}),mt(t,b)?"":e.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 my-2"})]},g.id)),h&&e.jsx("div",{className:W("flex items-center justify-center",Q),children:e.jsx(Ae,{size:40})}),s&&t.length===0&&e.jsx("div",{className:W("flex items-center justify-center",Q),children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{className:"mx-auto mb-2 max-w-[150px]",src:"/img/others/no-notification.png",alt:"no-notification"}),e.jsx("h6",{className:"font-semibold",children:"No notifications!"}),e.jsx("p",{className:"mt-1",children:"Please Try again later"})]})})]}),e.jsx(D.Item,{variant:"header",children:e.jsx("div",{className:"pt-4",children:e.jsx(Y,{block:!0,variant:"solid",onClick:m,children:"View All Activity"})})})]})},St=ee(xt);export{kt as L,St as N,Ct as S};
